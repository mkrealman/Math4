<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>–°–∞–π—Ç –æ–±—É—á–µ–Ω–∏—è ‚Äî –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (4 –∫–ª–∞—Å—Å)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="manifest" href="manifest.json">
<style>
:root{--bg:#f6fbf7;--card:#fff;--ink:#183a23;--accent:#2ea36a;--accent-2:#c8ecd9;--bad:#c0392b;--good:#1e8449}
body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.4 system-ui,Arial}
.wrap{max-width:1000px;margin:24px auto;padding:16px}
.card{background:var(--card);border:1px solid var(--accent-2);border-radius:14px;box-shadow:0 2px 12px rgba(0,0,0,.05);padding:22px}
h1{margin:0 0 12px;font-size:26px;color:var(--accent)}
h2{margin:18px 0 6px;font-size:20px;color:#1e5f3b}
.btn{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:700;margin:4px}
.btn.secondary{background:#e9f7ef;color:#105433;border:1px solid var(--accent-2)}
.menu{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.hidden{display:none}
.q{padding:8px;margin:6px 0;border-left:4px solid var(--accent-2);background:#fcfffd;border-radius:6px}
.q.correct{border-left-color:var(--good);background:#f0fff4}
.q.wrong{border-left-color:var(--bad);background:#fff5f4}
.q .title{font-weight:600}
.score{font-weight:700;color:#0f6b3f}
.timer{font-weight:700;color:#105433;margin:10px 0}
.note{background:#e9f7ef;border:1px dashed var(--accent-2);padding:8px;border-radius:8px;margin:8px 0}
.badge{display:inline-block;background:#e9f7ef;border:1px solid var(--accent-2);border-radius:999px;padding:2px 8px;margin-left:6px;color:#16533a;font-size:13px}
table{border-collapse:collapse;width:100%}
table,th,td{border:1px solid var(--accent-2)}
th,td{padding:6px;text-align:left}

.dictionary-cards{display:flex;flex-direction:column;gap:8px}
.dict-item{background:#fcfffd;border:1px solid var(--accent-2);border-radius:8px;padding:8px 10px}
.dict-item .ex{display:block;font-size:14px;color:#166a42;margin-top:2px}
</style>
</head>
<body>
<div class="wrap">

  <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
  <div class="card" id="home">
    <h1>–°–∞–π—Ç –æ–±—É—á–µ–Ω–∏—è ‚Äî –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (4 –∫–ª–∞—Å—Å)</h1>
    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:</p>
    <div class="menu">
      <button class="btn" onclick="openScreen('theory')">üìö –¢–µ–æ—Ä–∏—è</button>
      <button class="btn" onclick="openScreen('dictionary')">üìñ –°–ª–æ–≤–∞—Ä—å</button>
      <button class="btn" onclick="openScreen('tests')">üìù –¢–µ—Å—Ç—ã</button>
    </div>
  </div>

  <!-- –¢–µ–æ—Ä–∏—è -->
  <div class="card hidden" id="theory">
    <h1>üìö –¢–µ–æ—Ä–∏—è (–≤–µ—Å—ë–ª–∞—è –∏ –ø–æ–ª–Ω–∞—è)</h1>

    <h2>üìè –ï–¥–∏–Ω–∏—Ü—ã –¥–ª–∏–Ω—ã <span class="badge">garuma mƒìrvienƒ´bas</span></h2>
    <p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å –ª–∏–Ω–µ–π–∫—É. –ï–π –∏–∑–º–µ—Ä—è—é—Ç –¥–ª–∏–Ω—É –ø—Ä–µ–¥–º–µ—Ç–æ–≤.</p>
    <p><b>1 –º–µ—Ç—Ä</b> ‚Äî –ø—Ä–∏–º–µ—Ä–Ω–æ —à–∞–≥ –≤–∑—Ä–æ—Å–ª–æ–≥–æ. <b>1 –¥–µ—Ü–∏–º–µ—Ç—Ä</b> ‚Äî –¥–ª–∏–Ω–∞ –ª–∞–¥–æ–Ω–∏. <b>1 —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä</b> ‚Äî —à–∏—Ä–∏–Ω–∞ –Ω–æ–≥—Ç—è. <b>1 –º–∏–ª–ª–∏–º–µ—Ç—Ä</b> ‚Äî —Ç–æ–ª—â–∏–Ω–∞ —Å–∫—Ä–µ–ø–∫–∏. <b>1 –∫–∏–ª–æ–º–µ—Ç—Ä</b> ‚Äî –¥–ª–∏–Ω–Ω–∞—è –ø—Ä–æ–≥—É–ª–∫–∞.</p>
    <div class="note"><b>–í–∞–∂–Ω–æ:</b> 1 –º = 10 –¥–º = 100 —Å–º = 1000 –º–º; 1 –∫–º = 1000 –º.</div>
    <ul>
      <li>8 –º = 800 —Å–º</li>
      <li>560 —Å–º = 5 –º 60 —Å–º</li>
      <li>1 –¥–º = 10 —Å–º</li>
    </ul>

    <h2>‚öñÔ∏è –ï–¥–∏–Ω–∏—Ü—ã –º–∞—Å—Å—ã <span class="badge">masas mƒìrvienƒ´bas</span></h2>
    <p>–ú–∞—Å—Å—É –∏–∑–º–µ—Ä—è—é—Ç, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç —Ç—è–∂—ë–ª—ã–π.</p>
    <p><b>1 –∫–∏–ª–æ–≥—Ä–∞–º–º</b> ‚Äî –ø–∞–∫–µ—Ç —Å–∞—Ö–∞—Ä–∞. <b>1 –≥—Ä–∞–º–º</b> ‚Äî –º–∞–ª–µ–Ω—å–∫–∞—è –∫–æ–Ω—Ñ–µ—Ç–∞. <b>1 —Ç–æ–Ω–Ω–∞</b> ‚Äî –∫–∞–∫ –º–∞–ª–µ–Ω—å–∫–∞—è –º–∞—à–∏–Ω–∫–∞.</p>
    <div class="note"><b>–í–∞–∂–Ω–æ:</b> 1 –∫–≥ = 1000 –≥; 1 —Ç = 1000 –∫–≥.</div>
    <ul>
      <li>8200 –≥ = 8 –∫–≥ 200 –≥</li>
      <li>3 –∫–≥ + 2700 –≥ = 5700 –≥</li>
    </ul>

    <h2>ü•õ –ï–¥–∏–Ω–∏—Ü—ã –æ–±—ä—ë–º–∞ <span class="badge">tilpuma mƒìrvienƒ´bas</span></h2>
    <p>–û–±—ä—ë–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –∂–∏–¥–∫–æ—Å—Ç–∏ –∏–ª–∏ —Å—ã–ø—É—á–µ–≥–æ –≤–µ—â–µ—Å—Ç–≤–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è.</p>
    <p><b>1 –ª–∏—Ç—Ä</b> ‚Äî –ø–∞–∫–µ—Ç –º–æ–ª–æ–∫–∞. <b>1 –º–∏–ª–ª–∏–ª–∏—Ç—Ä</b> ‚Äî –∫–∞–ø–ª—è –≤–æ–¥—ã. <b>1 –≥–µ–∫—Ç–æ–ª–∏—Ç—Ä</b> ‚Äî —ç—Ç–æ 100 –ª–∏—Ç—Ä–æ–≤, –±–æ–ª—å—à–∞—è –±–æ—á–∫–∞ –ª–∏–º–æ–Ω–∞–¥–∞!</p>
    <div class="note"><b>–í–∞–∂–Ω–æ:</b> 1 –ª = 1000 –º–ª; 1 hl = 100 –ª.</div>
    <ul>
      <li>1500 –º–ª = 1 –ª 500 –º–ª</li>
      <li>3 hl = 300 –ª</li>
    </ul>

    <h2>üî¢ –ß–∏—Å–ª–∞ –¥–æ 1000 –∏ —á–∏—Å–ª–æ–≤–∞—è –æ—Å—å <span class="badge">skaitƒºi, skaitƒºu ass</span></h2>
    <p>–ß–∏—Å–ª–∞ —Å—Ç—Ä–æ—è—Ç—Å—è –∏–∑ —Ä–∞–∑—Ä—è–¥–æ–≤: –µ–¥–∏–Ω–∏—Ü—ã, –¥–µ—Å—è—Ç–∫–∏, —Å–æ—Ç–Ω–∏.</p>
    <p>–ù–∞–ø—Ä–∏–º–µ—Ä, 694 = 600 + 90 + 4 ‚Üí 6 —Å–æ—Ç–µ–Ω, 9 –¥–µ—Å—è—Ç–∫–æ–≤, 4 –µ–¥–∏–Ω–∏—Ü—ã. –ù–∞ —á–∏—Å–ª–æ–≤–æ–π –æ—Å–∏ —á–µ–º –ø—Ä–∞–≤–µ–µ ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ —á–∏—Å–ª–æ.</p>

    <h2>‚ûï‚ûñ‚úñÔ∏è‚ûó –î–µ–π—Å—Ç–≤–∏—è –∏ —Å–∫–æ–±–∫–∏ <span class="badge">darbƒ´bas, iekavas</span></h2>
    <p>–°–∫–æ–±–∫–∏ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞. –ü—Ä–µ–¥—Å—Ç–∞–≤—å: —Å–ø–µ—Ä–≤–∞ —Å—ä–µ–ª–∏ –ø–∏—Ä–æ–∂–æ–∫ (—Å–∫–æ–±–∫–∏), –ø–æ—Ç–æ–º —á–∞–π (–æ—Å—Ç–∞–ª—å–Ω–æ–µ).</p>
    <ol>
      <li>–°–Ω–∞—á–∞–ª–∞ —Å—á–∏—Ç–∞–µ–º –≤ —Å–∫–æ–±–∫–∞—Ö.</li>
      <li>–ü–æ—Ç–æ–º —É–º–Ω–æ–∂–µ–Ω–∏–µ –∏ –¥–µ–ª–µ–Ω–∏–µ.</li>
      <li>–í –∫–æ–Ω—Ü–µ —Å–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ.</li>
    </ol>
    <p>–ü—Ä–∏–º–µ—Ä—ã: 5 + 2 √ó 3 = 11; (12 √∑ 3) + 7 = 11; 4 √ó (6 ‚àí 2) = 16.</p>

    <h2>üè∞ –ß–µ—Ç—ã—Ä—ë—Ö–∑–Ω–∞—á–Ω—ã–µ —á–∏—Å–ª–∞ <span class="badge">ƒçetrciparu skaitƒºi</span></h2>
    <p>–£ —á–µ—Ç—ã—Ä—ë—Ö–∑–Ω–∞—á–Ω–æ–≥–æ —á–∏—Å–ª–∞ –µ—Å—Ç—å —Ç—ã—Å—è—á–∏, —Å–æ—Ç–Ω–∏, –¥–µ—Å—è—Ç–∫–∏ –∏ –µ–¥–∏–Ω–∏—Ü—ã. 9352 = 9 —Ç—ã—Å + 3 —Å–æ—Ç + 5 –¥–µ—Å + 2 –µ–¥.</p>

    <h2>üç∞ –î—Ä–æ–±–∏ <span class="badge">daƒºskaitƒºi</span></h2>
    <p><b>–ß—Ç–æ —Ç–∞–∫–æ–µ –¥—Ä–æ–±—å?</b> –≠—Ç–æ —á–∞—Å—Ç–∏ —Ü–µ–ª–æ–≥–æ. –í–≤–µ—Ä—Ö ‚Äî —Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π –≤–∑—è–ª–∏ (—á–∏—Å–ª–∏—Ç–µ–ª—å). –í–Ω–∏–∑ ‚Äî –Ω–∞ —Å–∫–æ–ª—å–∫–æ —Ä–∞–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π –ø–æ–¥–µ–ª–∏–ª–∏ —Ü–µ–ª–æ–µ (–∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å).</p>
    <p>–ï—Å–ª–∏ —Ç–æ—Ä—Ç –ø–æ—Ä–µ–∑–∞–ª–∏ –Ω–∞ 4 —Ä–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏ –∏ –≤–∑—è–ª–∏ 1 ‚Äî —ç—Ç–æ <b>1/4</b> (–æ–¥–Ω–∞ —á–µ—Ç–≤–µ—Ä—Ç—å).</p>

    <h3>–ö–∞–∫ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –¥—Ä–æ–±–∏</h3>
    <p><b>–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫—É—Å–æ—á–∫–∏</b> (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å): –±–æ–ª—å—à–µ —Ç–∞–º, –≥–¥–µ —á–∏—Å–ª–∏—Ç–µ–ª—å –±–æ–ª—å—à–µ. –ü—Ä–∏–º–µ—Ä: 5/8 –±–æ–ª—å—à–µ, —á–µ–º 3/8.</p>
    <p><b>–†–∞–∑–Ω—ã–µ –∫—É—Å–æ—á–∫–∏</b>: –Ω—É–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, —á—Ç–æ –∫—É—Å–æ—á–∫–∏ —Å—Ç–∞–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏. –î–ª—è —ç—Ç–æ–≥–æ –º—ã—Å–ª–µ–Ω–Ω–æ ¬´–¥–æ—Ä–µ–∑–∞–µ–º¬ª —Ç–∞–∫, —á—Ç–æ–±—ã –∏ –æ–¥–∏–Ω, –∏ –¥—Ä—É–≥–æ–π —Ç–æ—Ä—Ç –±—ã–ª–∏ –ø–æ—Ä–µ–∑–∞–Ω—ã –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —á–∏—Å–ª–æ —á–∞—Å—Ç–µ–π. –¢–æ–≥–¥–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª—ë–≥–∫–∏–º.</p>
    <p>–ü—Ä–∏–º–µ—Ä: 2/3 –∏ 3/4. –£–¥–æ–±–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –ø–æ 12 —á–∞—Å—Ç–µ–π: 2/3 ‚Üí 8/12, 3/4 ‚Üí 9/12, –∑–Ω–∞—á–∏—Ç 3/4 –±–æ–ª—å—à–µ.</p>

    <h3>–°–ª–æ–∂–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π</h3>
    <p>–ï—Å–ª–∏ –∫—É—Å–æ—á–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∫–ª–∞–¥—ã–≤–∞–µ–º –∫—É—Å–æ—á–∫–∏: 2/7 + 3/7 = 5/7.</p>
    <p>–ï—Å–ª–∏ –∫—É—Å–æ—á–∫–∏ —Ä–∞–∑–Ω—ã–µ ‚Äî —Å–Ω–∞—á–∞–ª–∞ –¥–µ–ª–∞–µ–º –∏—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏, –ø–æ—Ç–æ–º —Å–∫–ª–∞–¥—ã–≤–∞–µ–º. –ü—Ä–∏–º–µ—Ä: 1/2 + 1/3. –£–¥–æ–±–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å 6 —Ä–∞–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π: 1/2 = 3/6, 1/3 = 2/6, –≤–º–µ—Å—Ç–µ 5/6.</p>

    <h3>–í—ã—á–∏—Ç–∞–Ω–∏–µ –¥—Ä–æ–±–µ–π</h3>
    <p>–ü–æ—Ö–æ–∂–µ –Ω–∞ —Å–ª–æ–∂–µ–Ω–∏–µ, —Ç–æ–ª—å–∫–æ –æ—Ç–Ω–∏–º–∞–µ–º. –ü—Ä–∏–º–µ—Ä: 5/6 ‚àí 1/6 = 4/6 = 2/3.</p>

    <h3>–£–º–Ω–æ–∂–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π</h3>
    <p>–ü–µ—Ä–µ–º–Ω–æ–∂–∞–µ–º ¬´—Å–∫–æ–ª—å–∫–æ –≤–∑—è–ª–∏¬ª –Ω–∞ ¬´—Å–∫–æ–ª—å–∫–æ –≤–∑—è–ª–∏¬ª –∏ ¬´–Ω–∞ —Å–∫–æ–ª—å–∫–æ –ø–æ–¥–µ–ª–∏–ª–∏¬ª –Ω–∞ ¬´–Ω–∞ —Å–∫–æ–ª—å–∫–æ –ø–æ–¥–µ–ª–∏–ª–∏¬ª. –ü—Ä–∏–º–µ—Ä: 2/3 √ó 3/4 = 6/12 = 1/2.</p>

    <h3>–î–µ–ª–µ–Ω–∏–µ –¥—Ä–æ–±–µ–π</h3>
    <p>–§–æ–∫—É—Å ‚ú®: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –¥—Ä–æ–±—å ‚Äî —ç—Ç–æ —É–º–Ω–æ–∂–µ–Ω–∏–µ –Ω–∞ ¬´–ø–µ—Ä–µ–≤—ë—Ä–Ω—É—Ç—É—é¬ª –¥—Ä–æ–±—å. –ü—Ä–∏–º–µ—Ä: 2/3 √∑ 1/4 = 2/3 √ó 4/1 = 8/3 = 2 –∏ 2/3.</p>

    <p><b>–ì–ª–∞–≤–Ω–∞—è –º—ã—Å–ª—å:</b> –¥—Ä–æ–±–∏ ‚Äî —ç—Ç–æ –ø—Ä–æ —á–µ—Å—Ç–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Ä–∞–≤–Ω—ã–µ —á–∞—Å—Ç–∏. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π –µ–¥—É üç´üçïüçé ‚Äî –∏ –≤—Å—ë –±—É–¥–µ—Ç —è—Å–Ω–æ!</p>

    <button class="btn secondary" onclick="openScreen('home')">‚¨Ö –í–µ—Ä–Ω—É—Ç—å—Å—è</button>
  </div>

  <!-- –°–ª–æ–≤–∞—Ä—å -->
  <div class="card hidden" id="dictionary">
    <h1>üìñ –°–ª–æ–≤–∞—Ä—å (lat ‚Üí rus)</h1>
    <button class="btn secondary" onclick="toggleDictMode()">üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º</button>

    <!-- –¢–∞–±–ª–∏—á–Ω—ã–π —Ä–µ–∂–∏–º -->
    <div id="dict-table" class="dict-mode">
      <div style="overflow-x:auto;">
        <table>
          <tr><th>Latviski</th><th>–†—É—Å—Å–∫–∏–π</th><th>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</th></tr>
          <tr><td>metrs (m)</td><td>–º–µ—Ç—Ä</td><td>üìè –û–¥–∏–Ω —à–∞–≥ –≤–∑—Ä–æ—Å–ª–æ–≥–æ</td></tr>
          <tr><td>decimetrs (dm)</td><td>–¥–µ—Ü–∏–º–µ—Ç—Ä</td><td>üìê –î–ª–∏–Ω–∞ –ª–∞–¥–æ–Ω–∏</td></tr>
          <tr><td>centimetrs (cm)</td><td>—Å–∞–Ω—Ç–∏–º–µ—Ç—Ä</td><td>üìè –®–∏—Ä–∏–Ω–∞ –Ω–æ–≥—Ç—è</td></tr>
          <tr><td>milimetrs (mm)</td><td>–º–∏–ª–ª–∏–º–µ—Ç—Ä</td><td>üìé –¢–æ–ª—â–∏–Ω–∞ —Å–∫—Ä–µ–ø–∫–∏</td></tr>
          <tr><td>kilometrs (km)</td><td>–∫–∏–ª–æ–º–µ—Ç—Ä</td><td>üö∂‚Äç‚ôÇÔ∏è –î–ª–∏–Ω–Ω–∞—è –ø—Ä–æ–≥—É–ª–∫–∞ (1000 –º)</td></tr>
          <tr><td>kilograms (kg)</td><td>–∫–∏–ª–æ–≥—Ä–∞–º–º</td><td>‚öñÔ∏è –ü–∞–∫–µ—Ç —Å–∞—Ö–∞—Ä–∞</td></tr>
          <tr><td>grams (g)</td><td>–≥—Ä–∞–º–º</td><td>üç¨ –ú–∞–ª–µ–Ω—å–∫–∞—è –∫–æ–Ω—Ñ–µ—Ç–∞</td></tr>
          <tr><td>tonna (t)</td><td>—Ç–æ–Ω–Ω–∞</td><td>üöó –û–∫–æ–ª–æ –º–∞–ª–µ–Ω—å–∫–æ–π –º–∞—à–∏–Ω–∫–∏ (1000 –∫–≥)</td></tr>
          <tr><td>litrs (l)</td><td>–ª–∏—Ç—Ä</td><td>ü•õ –ü–∞–∫–µ—Ç –º–æ–ª–æ–∫–∞</td></tr>
          <tr><td>mililitrs (ml)</td><td>–º–∏–ª–ª–∏–ª–∏—Ç—Ä</td><td>üíß –ö–∞–ø–ª—è –≤–æ–¥—ã</td></tr>
          <tr><td>hektolitrs (hl)</td><td>–≥–µ–∫—Ç–æ–ª–∏—Ç—Ä</td><td>üõ¢Ô∏è –ë–æ–ª—å—à–∞—è –±–æ—á–∫–∞ (100 –ª)</td></tr>
          <tr><td>skaitƒºi</td><td>—á–∏—Å–ª–∞</td><td>üî¢ –í—Å—ë, —á—Ç–æ —Å—á–∏—Ç–∞–µ–º</td></tr>
          <tr><td>vienƒ´bas</td><td>–µ–¥–∏–Ω–∏—Ü—ã</td><td>1Ô∏è‚É£ –û—Ç–¥–µ–ª—å–Ω—ã–µ —à—Ç—É–∫–∏</td></tr>
          <tr><td>desmiti</td><td>–¥–µ—Å—è—Ç–∫–∏</td><td>üîü –ì—Ä—É–ø–ø—ã –ø–æ 10</td></tr>
          <tr><td>simti</td><td>—Å–æ—Ç–Ω–∏</td><td>üíØ –ì—Ä—É–ø–ø—ã –ø–æ 100</td></tr>
          <tr><td>t≈´ksto≈°i</td><td>—Ç—ã—Å—è—á–∏</td><td>üåü –ì—Ä—É–ø–ø—ã –ø–æ 1000</td></tr>
          <tr><td>saskaitƒ´≈°ana</td><td>—Å–ª–æ–∂–µ–Ω–∏–µ</td><td>‚ûï –î–æ–±–∞–≤–ª—è–µ–º</td></tr>
          <tr><td>at≈Üem≈°ana</td><td>–≤—ã—á–∏—Ç–∞–Ω–∏–µ</td><td>‚ûñ –£–±–∏—Ä–∞–µ–º</td></tr>
          <tr><td>reizinaÃÑ≈°ana</td><td>—É–º–Ω–æ–∂–µ–Ω–∏–µ</td><td>‚úñÔ∏è –ë–µ—Ä—ë–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã</td></tr>
          <tr><td>dalƒ´≈°ana</td><td>–¥–µ–ª–µ–Ω–∏–µ</td><td>‚ûó –î–µ–ª–∏–º –ø–æ—Ä–æ–≤–Ω—É</td></tr>
          <tr><td>iekavas</td><td>—Å–∫–æ–±–∫–∏</td><td>üß© –°–Ω–∞—á–∞–ª–∞ –≤–Ω—É—Ç—Ä–∏</td></tr>
          <tr><td>matemƒÅtiskƒÅ izteiksme</td><td>–≤—ã—Ä–∞–∂–µ–Ω–∏–µ</td><td>üìú –ó–∞–ø–∏—Å—å —Å —á–∏—Å–ª–∞–º–∏ –∏ –∑–Ω–∞–∫–∞–º–∏</td></tr>
          <tr><td>vƒìrtƒ´ba</td><td>–∑–Ω–∞—á–µ–Ω–∏–µ</td><td>‚úÖ –ü–æ–ª—É—á–∏–≤—à–∏–π—Å—è –æ—Ç–≤–µ—Ç</td></tr>
          <tr><td>daƒºskaitlis</td><td>–¥—Ä–æ–±—å</td><td>üç∞ –ö—É—Å–æ—á–µ–∫ –ø–∏—Ä–æ–≥–∞</td></tr>
          <tr><td>kopƒìjais saucƒìjs</td><td>–æ–±—â–∏–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å</td><td>üìê –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –∫—É—Å–æ—á–∫–æ–≤</td></tr>
        </table>
      </div>
    </div>

    <!-- –ö–∞—Ä—Ç–æ—á–Ω—ã–π —Ä–µ–∂–∏–º -->
    <div id="dict-cards" class="dict-mode hidden">
      <div class="dictionary-cards">
        <div class="dict-item"><b>metrs (m)</b> ‚Äî –º–µ—Ç—Ä üìè <span class="ex">–®–∞–≥ –≤–∑—Ä–æ—Å–ª–æ–≥–æ</span></div>
        <div class="dict-item"><b>decimetrs (dm)</b> ‚Äî –¥–µ—Ü–∏–º–µ—Ç—Ä üìê <span class="ex">–î–ª–∏–Ω–∞ –ª–∞–¥–æ–Ω–∏</span></div>
        <div class="dict-item"><b>centimetrs (cm)</b> ‚Äî —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä üìè <span class="ex">–®–∏—Ä–∏–Ω–∞ –Ω–æ–≥—Ç—è</span></div>
        <div class="dict-item"><b>milimetrs (mm)</b> ‚Äî –º–∏–ª–ª–∏–º–µ—Ç—Ä üìé <span class="ex">–¢–æ–ª—â–∏–Ω–∞ —Å–∫—Ä–µ–ø–∫–∏</span></div>
        <div class="dict-item"><b>kilometrs (km)</b> ‚Äî –∫–∏–ª–æ–º–µ—Ç—Ä üö∂‚Äç‚ôÇÔ∏è <span class="ex">1000 –º–µ—Ç—Ä–æ–≤</span></div>
        <div class="dict-item"><b>kilograms (kg)</b> ‚Äî –∫–∏–ª–æ–≥—Ä–∞–º–º ‚öñÔ∏è <span class="ex">–ü–∞–∫–µ—Ç —Å–∞—Ö–∞—Ä–∞</span></div>
        <div class="dict-item"><b>grams (g)</b> ‚Äî –≥—Ä–∞–º–º üç¨ <span class="ex">–ú–∞–ª–µ–Ω—å–∫–∞—è –∫–æ–Ω—Ñ–µ—Ç–∞</span></div>
        <div class="dict-item"><b>tonna (t)</b> ‚Äî —Ç–æ–Ω–Ω–∞ üöó <span class="ex">1000 –∫–∏–ª–æ–≥—Ä–∞–º–º–æ–≤</span></div>
        <div class="dict-item"><b>litrs (l)</b> ‚Äî –ª–∏—Ç—Ä ü•õ <span class="ex">–ü–∞–∫–µ—Ç –º–æ–ª–æ–∫–∞</span></div>
        <div class="dict-item"><b>mililitrs (ml)</b> ‚Äî –º–∏–ª–ª–∏–ª–∏—Ç—Ä üíß <span class="ex">–ö–∞–ø–ª—è –≤–æ–¥—ã</span></div>
        <div class="dict-item"><b>hektolitrs (hl)</b> ‚Äî –≥–µ–∫—Ç–æ–ª–∏—Ç—Ä üõ¢Ô∏è <span class="ex">100 –ª–∏—Ç—Ä–æ–≤</span></div>
        <div class="dict-item"><b>skaitƒºi</b> ‚Äî —á–∏—Å–ª–∞ üî¢ <span class="ex">–í—Å—ë, —á—Ç–æ —Å—á–∏—Ç–∞–µ–º</span></div>
        <div class="dict-item"><b>vienƒ´bas</b> ‚Äî –µ–¥–∏–Ω–∏—Ü—ã 1Ô∏è‚É£ <span class="ex">–û—Ç–¥–µ–ª—å–Ω—ã–µ —à—Ç—É–∫–∏</span></div>
        <div class="dict-item"><b>desmiti</b> ‚Äî –¥–µ—Å—è—Ç–∫–∏ üîü <span class="ex">–ì—Ä—É–ø–ø—ã –ø–æ 10</span></div>
        <div class="dict-item"><b>simti</b> ‚Äî —Å–æ—Ç–Ω–∏ üíØ <span class="ex">–ì—Ä—É–ø–ø—ã –ø–æ 100</span></div>
        <div class="dict-item"><b>t≈´ksto≈°i</b> ‚Äî —Ç—ã—Å—è—á–∏ üåü <span class="ex">–ì—Ä—É–ø–ø—ã –ø–æ 1000</span></div>
        <div class="dict-item"><b>saskaitƒ´≈°ana</b> ‚Äî —Å–ª–æ–∂–µ–Ω–∏–µ ‚ûï <span class="ex">–°–∫–ª–∞–¥—ã–≤–∞–µ–º</span></div>
        <div class="dict-item"><b>at≈Üem≈°ana</b> ‚Äî –≤—ã—á–∏—Ç–∞–Ω–∏–µ ‚ûñ <span class="ex">–£–±–∏—Ä–∞–µ–º</span></div>
        <div class="dict-item"><b>reizinaÃÑ≈°ana</b> ‚Äî —É–º–Ω–æ–∂–µ–Ω–∏–µ ‚úñÔ∏è <span class="ex">–ë–µ—Ä—ë–º –≥—Ä—É–ø–ø—ã</span></div>
        <div class="dict-item"><b>dalƒ´≈°ana</b> ‚Äî –¥–µ–ª–µ–Ω–∏–µ ‚ûó <span class="ex">–î–µ–ª–∏–º –ø–æ—Ä–æ–≤–Ω—É</span></div>
        <div class="dict-item"><b>iekavas</b> ‚Äî —Å–∫–æ–±–∫–∏ üß© <span class="ex">–°–Ω–∞—á–∞–ª–∞ –≤–Ω—É—Ç—Ä–∏</span></div>
        <div class="dict-item"><b>matemƒÅtiskƒÅ izteiksme</b> ‚Äî –≤—ã—Ä–∞–∂–µ–Ω–∏–µ üìú <span class="ex">–ó–∞–ø–∏—Å—å —Å —á–∏—Å–ª–∞–º–∏</span></div>
        <div class="dict-item"><b>vƒìrtƒ´ba</b> ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ ‚úÖ <span class="ex">–≠—Ç–æ –æ—Ç–≤–µ—Ç</span></div>
        <div class="dict-item"><b>daƒºskaitlis</b> ‚Äî –¥—Ä–æ–±—å üç∞ <span class="ex">–ö—É—Å–æ—á–µ–∫ –ø–∏—Ä–æ–≥–∞</span></div>
        <div class="dict-item"><b>kopƒìjais saucƒìjs</b> ‚Äî –æ–±—â–∏–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å üìê <span class="ex">–û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –∫—É—Å–æ—á–∫–æ–≤</span></div>
      </div>
    </div>

    <button class="btn secondary" onclick="openScreen('home')">‚¨Ö –í–µ—Ä–Ω—É—Ç—å—Å—è</button>
  </div>

  <!-- –¢–µ—Å—Ç—ã -->
  <div class="card hidden" id="tests">
    <h1>üìù –¢–µ—Å—Ç—ã</h1>
    <label><input type="checkbox" id="mode-timer"> –†–µ—à–∞—Ç—å –Ω–∞ –≤—Ä–µ–º—è</label>
    <div id="variants-buttons"></div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤ -->
    <div id="records-box" style="margin-top:16px;">
      <h2>üèÜ –†–µ–∫–æ—Ä–¥—ã</h2>
      <table id="records-table">
        <tr><th>–í–∞—Ä–∏–∞–Ω—Ç</th><th>–õ—É—á—à–µ–µ –≤—Ä–µ–º—è</th><th>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</th></tr>
      </table>
    </div>

    <button class="btn secondary" onclick="openScreen('home')">‚¨Ö –í–µ—Ä–Ω—É—Ç—å—Å—è</button>
  </div>

  <!-- –í–∞—Ä–∏–∞–Ω—Ç —Ç–µ—Å—Ç–∞ -->
  <div class="card hidden" id="variant">
    <h1 id="variant-title">–í–∞—Ä–∏–∞–Ω—Ç</h1>
    <div class="timer hidden" id="timer-box">–í—Ä–µ–º—è: 0:00</div>
    <div id="questions"></div>
    <div>
      <label>–ü–∞—Ä–æ–ª—å: <input id="pwd" type="password" placeholder="****" inputmode="numeric"></label>
      <button class="btn" onclick="checkAnswers()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <button class="btn secondary" onclick="resetVariant()">–°–±—Ä–æ—Å–∏—Ç—å</button>
      <span class="score" id="score"></span>
      <div id="pwdmsg"></div>
      <button class="btn secondary" onclick="openScreen('tests')">‚¨Ö –ù–∞–∑–∞–¥</button>
    </div>
  </div>

</div>
<script>
/* ===== –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤ ===== */
function openScreen(id){
  ["home","theory","dictionary","tests","variant"].forEach(s=>{
    const el=document.getElementById(s); if(el) el.classList.add("hidden");
  });
  document.getElementById(id).classList.remove("hidden");
  if(id==="tests"){ updateRecordsTable(); }
}

/* ===== –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è: —Ç–∞–±–ª–∏—Ü–∞ ‚Üî –∫–∞—Ä—Ç–æ—á–∫–∏ ===== */
function toggleDictMode(){
  document.getElementById("dict-table").classList.toggle("hidden");
  document.getElementById("dict-cards").classList.toggle("hidden");
}

/* ===== –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤ ===== */
const V = (ans)=>({type:"text",ans:Array.isArray(ans)?ans:[ans]}); // —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã
const N = (ans)=>({type:"number",ans:[String(ans)]});              // —á–∏—Å–ª–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã
function item(q,...inputs){return {q,inputs};}
function part(header,items){return {header,items};}

/* ===== –í–∞—Ä–∏–∞–Ω—Ç—ã 1‚Äì3 (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –ø–æ–ª–Ω—ã–µ) ===== */
const variants = {};
variants[1] = {
  title:'–í–∞—Ä–∏–∞–Ω—Ç 1', password:'1111',
  parts:[
    part('1) –ï–¥–∏–Ω–∏—Ü—ã –¥–ª–∏–Ω—ã (garuma mƒìrvienƒ´bas)',[
      item('1. 8 –º (metri) = ‚Ä¶ —Å–º (centimetri)', N(800)),
      item('2. 560 —Å–º (centimetri) = ‚Ä¶ –º ‚Ä¶ —Å–º', N(5), N(60)),
      item('3. –°–∫–æ–ª—å–∫–æ –¥–µ—Ü–∏–º–µ—Ç—Ä–æ–≤ (decimetri) –≤ 9 –º?', N(90)),
      item('4. 3 –∫–º (kilometri) = ‚Ä¶ –º', N(3000)),
      item('5. –°–∫–æ–ª—å–∫–æ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–æ–≤ –≤ 6 –¥–º?', N(60)),
    ]),
    part('2) –ï–¥–∏–Ω–∏—Ü—ã –º–∞—Å—Å—ã (masas mƒìrvienƒ´bas)',[
      item('6. 7 –∫–≥ = ‚Ä¶ –≥', N(7000)),
      item('7. 9400 –≥ = ‚Ä¶ –∫–≥ ‚Ä¶ –≥', N(9), N(400)),
      item('8. 4 –∫–≥ + 3500 –≥ = ‚Ä¶ –≥', N(7500)),
      item('9. –ß—Ç–æ —Ç—è–∂–µ–ª–µ–µ: 2500 –≥ –∏–ª–∏ 3 –∫–≥?', V(['3–∫–≥','3 –∫–≥','3000–≥','3000 –≥','3000'])),
      item('10. 2 —Ç = ‚Ä¶ –∫–≥', N(2000)),
    ]),
    part('3) –ï–¥–∏–Ω–∏—Ü—ã –æ–±—ä—ë–º–∞ (tilpuma mƒìrvienƒ´bas)',[
      item('11. 6 –ª = ‚Ä¶ –º–ª', N(6000)),
      item('12. 3000 –º–ª = ‚Ä¶ –ª', N(3)),
      item('13. 5 hl = ‚Ä¶ –ª', N(500)),
      item('14. 1200 –ª = ‚Ä¶ hl ‚Ä¶ –ª', N(12), N(0)),
      item('15. 3 –ª = ‚Ä¶ –º–ª', N(3000)),
    ]),
    part('4) –ß–∏—Å–ª–∞ –¥–æ 1000 (skaitƒºi)',[
      item('16. 7 —Å–æ—Ç–µ–Ω, 8 –¥–µ—Å—è—Ç–∫–æ–≤, 5 –µ–¥–∏–Ω–∏—Ü =', N(785)),
      item('17. 694 = ‚Ä¶ + ‚Ä¶ + ‚Ä¶', N(600), N(90), N(4)),
      item('18. –ß—Ç–æ –±–æ–ª—å—à–µ: 478 –∏–ª–∏ 874?', N(874)),
      item('19. –°–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤ –≤ 420?', N(42)),
      item('20. –ß–∏—Å–ª–æ –ø–µ—Ä–µ–¥ 1000:', N(999)),
    ]),
    part('5) –î–µ–π—Å—Ç–≤–∏—è –∏ —Å–∫–æ–±–∫–∏ (darbƒ´bas, iekavas)',[
      item('21. 567 + 348 =', N(915)),
      item('22. 900 ‚Äì 456 =', N(444)),
      item('23. 5 + 2 √ó 3 =', N(11)),
      item('24. (12 √∑ 3) + 7 =', N(11)),
      item('25. 4 √ó (6 ‚àí 2) =', N(16)),
    ]),
    part('6) –ß–µ—Ç—ã—Ä—ë—Ö–∑–Ω–∞—á–Ω—ã–µ —á–∏—Å–ª–∞ (ƒçetrciparu skaitƒºi)',[
      item('26. 9 —Ç—ã—Å, 3 —Å–æ—Ç–Ω–∏, 5 –¥–µ—Å—è—Ç–∫–æ–≤, 2 –µ–¥–∏–Ω–∏—Ü—ã =', N(9352)),
      item('27. 8046 = ‚Ä¶ + ‚Ä¶ + ‚Ä¶ + ‚Ä¶', N(8000), N(0), N(40), N(6)),
    ]),
    part('7) –î—Ä–æ–±–∏ (daƒºskaitƒºi)',[
      item('28. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: 2/3 –∏–ª–∏ 3/5?', V(['2/3','2:3'])),
      item('29. 8/4 =', N(2)),
      item('30. 10/3 = ‚Ä¶ —Ü–µ–ª—ã—Ö –∏ ‚Ä¶', N(3), V(['1/3','1:3'])),
      item('31. –ü–æ–ª–æ–≤–∏–Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç–∞ =', V(['1/2','1:2'])),
      item('32. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: 5/6 –∏–ª–∏ 4/6?', V(['5/6','5:6'])),
      item('33. 6/2 =', N(3)),
      item('34. –ü–∏—Ä–æ–≥ –Ω–∞ 8 —á–∞—Å—Ç–µ–π, —Å—ä–µ–ª–∏ 3 ‚Üí', V(['3/8','3:8'])),
      item('35. 1/4 + 1/4 =', V(['2/4','1/2','2:4','1:2'])),
    ]),
  ]
};
variants[2] = {
  title:'–í–∞—Ä–∏–∞–Ω—Ç 2', password:'2222',
  parts:[
    part('1) –ï–¥–∏–Ω–∏—Ü—ã –¥–ª–∏–Ω—ã',[
      item('1. 6 –º = ‚Ä¶ —Å–º', N(600)),
      item('2. 425 —Å–º = ‚Ä¶ –º ‚Ä¶ —Å–º', N(4), N(25)),
      item('3. –°–∫–æ–ª—å–∫–æ –¥–º –≤ 7 –º?', N(70)),
      item('4. 2 –∫–º = ‚Ä¶ –º', N(2000)),
      item('5. –°–∫–æ–ª—å–∫–æ —Å–º –≤ 4 –¥–º?', N(40)),
    ]),
    part('2) –ú–∞—Å—Å–∞',[
      item('6. 5 –∫–≥ = ‚Ä¶ –≥', N(5000)),
      item('7. 8200 –≥ = ‚Ä¶ –∫–≥ ‚Ä¶ –≥', N(8), N(200)),
      item('8. 3 –∫–≥ + 2700 –≥ = ‚Ä¶ –≥', N(5700)),
      item('9. –ß—Ç–æ —Ç—è–∂–µ–ª–µ–µ: 4500 –≥ –∏–ª–∏ 5 –∫–≥?', V(['5–∫–≥','5 –∫–≥','5000–≥','5000 –≥','5000'])),
      item('10. 3 —Ç = ‚Ä¶ –∫–≥', N(3000)),
    ]),
    part('3) –û–±—ä—ë–º',[
      item('11. 4 –ª = ‚Ä¶ –º–ª', N(4000)),
      item('12. 1500 –º–ª = ‚Ä¶ –ª ‚Ä¶ –º–ª', N(1), N(500)),
      item('13. 3 hl = ‚Ä¶ –ª', N(300)),
      item('14. 950 –ª = ‚Ä¶ hl ‚Ä¶ –ª', N(9), N(50)),
      item('15. 2 –ª = ‚Ä¶ –º–ª', N(2000)),
    ]),
    part('4) –ß–∏—Å–ª–∞ –¥–æ 1000',[
      item('16. 5 —Å–æ—Ç–µ–Ω, 4 –¥–µ—Å—è—Ç–∫–∞, 9 –µ–¥–∏–Ω–∏—Ü =', N(549)),
      item('17. 836 = ‚Ä¶ + ‚Ä¶ + ‚Ä¶', N(800), N(30), N(6)),
      item('18. –ß—Ç–æ –±–æ–ª—å—à–µ: 672 –∏–ª–∏ 762?', N(762)),
      item('19. –°–∫–æ–ª—å–∫–æ —Å–æ—Ç–µ–Ω –≤ 940?', N(9)),
      item('20. –ß–∏—Å–ª–æ –ø–µ—Ä–µ–¥ 500:', N(499)),
    ]),
    part('5) –î–µ–π—Å—Ç–≤–∏—è –∏ —Å–∫–æ–±–∫–∏',[
      item('21. 423 + 258 =', N(681)),
      item('22. 700 ‚Äì 348 =', N(352)),
      item('23. 8 + 4 √ó 2 =', N(16)),
      item('24. (20 √∑ 5) + 9 =', N(13)),
      item('25. 3 √ó (9 ‚Äì 5) =', N(12)),
    ]),
    part('6) –ß–µ—Ç—ã—Ä—ë—Ö–∑–Ω–∞—á–Ω—ã–µ',[
      item('26. 4 —Ç—ã—Å, 2 —Å–æ—Ç–Ω–∏, 7 –¥–µ—Å—è—Ç–∫–æ–≤, 8 –µ–¥–∏–Ω–∏—Ü =', N(4278)),
      item('27. 6093 = ‚Ä¶ + ‚Ä¶ + ‚Ä¶ + ‚Ä¶', N(6000), N(0), N(90), N(3)),
    ]),
    part('7) –î—Ä–æ–±–∏',[
      item('28. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: 3/4 –∏–ª–∏ 2/3?', V(['3/4','3:4'])),
      item('29. 9/3 =', N(3)),
      item('30. 7/2 = ‚Ä¶ —Ü–µ–ª—ã—Ö –∏ ‚Ä¶', N(3), V(['1/2','1:2'])),
      item('31. –ß–µ—Ç–≤–µ—Ä—Ç—å –∫—Ä—É–≥–∞ =', V(['1/4','1:4'])),
      item('32. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: 7/8 –∏–ª–∏ 6/8?', V(['7/8','7:8'])),
      item('33. 10/5 =', N(2)),
      item('34. –ü–∏—Ä–æ–≥ –Ω–∞ 12 —á–∞—Å—Ç–µ–π, —Å—ä–µ–ª–∏ 5 ‚Üí', V(['5/12','5:12'])),
      item('35. 2/6 + 1/6 =', V(['3/6','1/2','3:6','1:2'])),
    ]),
  ]
};
variants[3] = {
  title:'–í–∞—Ä–∏–∞–Ω—Ç 3', password:'3333',
  parts:[
    part('1) –î–ª–∏–Ω–∞',[
      item('1. 9 –º = ‚Ä¶ —Å–º', N(900)),
      item('2. 645 —Å–º = ‚Ä¶ –º ‚Ä¶ —Å–º', N(6), N(45)),
      item('3. –°–∫–æ–ª—å–∫–æ –¥–º –≤ 5 –º?', N(50)),
      item('4. 4 –∫–º = ‚Ä¶ –º', N(4000)),
      item('5. –°–∫–æ–ª—å–∫–æ —Å–º –≤ 8 –¥–º?', N(80)),
    ]),
    part('2) –ú–∞—Å—Å–∞',[
      item('6. 2 –∫–≥ = ‚Ä¶ –≥', N(2000)),
      item('7. 10300 –≥ = ‚Ä¶ –∫–≥ ‚Ä¶ –≥', N(10), N(300)),
      item('8. 6 –∫–≥ + 4500 –≥ = ‚Ä¶ –≥', N(10500)),
      item('9. –ß—Ç–æ —Ç—è–∂–µ–ª–µ–µ: 7800 –≥ –∏–ª–∏ 8 –∫–≥?', V(['8–∫–≥','8 –∫–≥','8000–≥','8000 –≥','8000'])),
      item('10. 1 —Ç = ‚Ä¶ –∫–≥', N(1000)),
    ]),
    part('3) –û–±—ä—ë–º',[
      item('11. 7 –ª = ‚Ä¶ –º–ª', N(7000)),
      item('12. 2200 –º–ª = ‚Ä¶ –ª ‚Ä¶ –º–ª', N(2), N(200)),
      item('13. 4 hl = ‚Ä¶ –ª', N(400)),
      item('14. 350 –ª = ‚Ä¶ hl ‚Ä¶ –ª', N(3), N(50)),
      item('15. 9 –ª = ‚Ä¶ –º–ª', N(9000)),
    ]),
    part('4) –ß–∏—Å–ª–∞ –¥–æ 1000',[
      item('16. 3 —Å–æ—Ç–Ω–∏, 6 –¥–µ—Å—è—Ç–∫–æ–≤, 2 –µ–¥–∏–Ω–∏—Ü—ã =', N(362)),
      item('17. 457 = ‚Ä¶ + ‚Ä¶ + ‚Ä¶', N(400), N(50), N(7)),
      item('18. –ß—Ç–æ –±–æ–ª—å—à–µ: 385 –∏–ª–∏ 583?', N(583)),
      item('19. –°–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤ –≤ 730?', N(73)),
      item('20. –ß–∏—Å–ª–æ –ø–æ—Å–ª–µ 699:', N(700)),
    ]),
    part('5) –î–µ–π—Å—Ç–≤–∏—è –∏ —Å–∫–æ–±–∫–∏',[
      item('21. 256 + 437 =', N(693)),
      item('22. 800 ‚Äì 279 =', N(521)),
      item('23. 10 ‚Äì 2 √ó 3 =', N(4)),
      item('24. (18 √∑ 6) + 12 =', N(15)),
      item('25. 2 √ó (15 ‚Äì 7) =', N(16)),
    ]),
    part('6) –ß–µ—Ç—ã—Ä—ë—Ö–∑–Ω–∞—á–Ω—ã–µ',[
      item('26. 7 —Ç—ã—Å, 1 —Å–æ—Ç–Ω—è, 4 –¥–µ—Å—è—Ç–∫–∞, 9 –µ–¥–∏–Ω–∏—Ü =', N(7149)),
      item('27. 5324 = ‚Ä¶ + ‚Ä¶ + ‚Ä¶ + ‚Ä¶', N(5000), N(300), N(20), N(4)),
    ]),
    part('7) –î—Ä–æ–±–∏',[
      item('28. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: 4/5 –∏–ª–∏ 7/10?', V(['4/5','4:5'])),
      item('29. 12/6 =', N(2)),
      item('30. 11/4 = ‚Ä¶ —Ü–µ–ª—ã—Ö –∏ ‚Ä¶', N(2), V(['3/4','3:4'])),
      item('31. –¢—Ä–∏ —á–µ—Ç–≤–µ—Ä—Ç–∏ –∫–≤–∞–¥—Ä–∞—Ç–∞ =', V(['3/4','3:4'])),
      item('32. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: 9/12 –∏–ª–∏ 7/12?', V(['9/12','9:12'])),
      item('33. 15/5 =', N(3)),
      item('34. –ü–∏—Ä–æ–≥ –Ω–∞ 10 —á–∞—Å—Ç–µ–π, —Å—ä–µ–ª–∏ 7 ‚Üí', V(['7/10','7:10'])),
      item('35. 3/8 + 2/8 =', V(['5/8','5:8'])),
    ]),
  ]
};

/* ===== –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ 4‚Äì10 (—É—Ä–æ–≤–µ–Ω—å —Ä–∞—Å—Ç—ë—Ç) ===== */
function makeGeneratedVariant(idx,pwd,seed,level){
  function L(){
    const m_to_cm=7+seed, cm_total=375+25*seed, m2=Math.floor(cm_total/100), cm2=cm_total%100, m_to_dm=6+seed, km=2+seed, dm=3+seed;
    return part('1) –ï–¥–∏–Ω–∏—Ü—ã –¥–ª–∏–Ω—ã',[ 
      item(`1. ${m_to_cm} –º = ‚Ä¶ —Å–º`, N(m_to_cm*100)),
      item(`2. ${cm_total} —Å–º = ‚Ä¶ –º ‚Ä¶ —Å–º`, N(m2), N(cm2)),
      item(`3. –°–∫–æ–ª—å–∫–æ –¥–º –≤ ${m_to_dm} –º?`, N(m_to_dm*10)),
      item(`4. ${km} –∫–º = ‚Ä¶ –º`, N(km*1000)),
      item(`5. –°–∫–æ–ª—å–∫–æ —Å–º –≤ ${dm} –¥–º?`, N(dm*10)) ]);
  }
  function M(){
    const kg=4+seed, g_total=6800+300*seed, kg2=Math.floor(g_total/1000), g2=g_total%1000, a=2+seed, b=300+100*seed, mix=a*1000+b, g=3500+200*seed, k=4+seed, t=1+seed%3;
    return part('2) –ï–¥–∏–Ω–∏—Ü—ã –º–∞—Å—Å—ã',[
      item(`6. ${kg} –∫–≥ = ‚Ä¶ –≥`, N(kg*1000)),
      item(`7. ${g_total} –≥ = ‚Ä¶ –∫–≥ ‚Ä¶ –≥`, N(kg2), N(g2)),
      item(`8. ${a} –∫–≥ + ${b} –≥ = ‚Ä¶ –≥`, N(mix)),
      item(`9. –ß—Ç–æ —Ç—è–∂–µ–ª–µ–µ: ${g} –≥ –∏–ª–∏ ${k} –∫–≥?`, V([`${k}–∫–≥`,`${k} –∫–≥`,`${k*1000}–≥`,`${k*1000} –≥`,`${k*1000}`])),
      item(`10. ${t} —Ç = ‚Ä¶ –∫–≥`, N(t*1000)) ]);
  }
  function Vv(){
    const l=3+seed, ml_total=1200+250*seed, l2=Math.floor(ml_total/1000), ml2=ml_total%1000, hl=1+seed, hl_mix=740+10*seed, hl2=Math.floor(hl_mix/100), l3=hl_mix%100, water=2+seed;
    return part('3) –ï–¥–∏–Ω–∏—Ü—ã –æ–±—ä—ë–º–∞',[
      item(`11. ${l} –ª = ‚Ä¶ –º–ª`, N(l*1000)),
      item(`12. ${ml_total} –º–ª = ‚Ä¶ –ª ‚Ä¶ –º–ª`, N(l2), N(ml2)),
      item(`13. ${hl} hl = ‚Ä¶ –ª`, N(hl*100)),
      item(`14. ${hl_mix} –ª = ‚Ä¶ hl ‚Ä¶ –ª`, N(hl2), N(l3)),
      item(`15. ${water} –ª = ‚Ä¶ –º–ª`, N(water*1000)) ]);
  }
  function Nn(){
    const h1=3+seed, h2=5+(seed%4), h3=(7+seed)%10, num=h1*100+h2*10+h3;
    const A=520+30*seed, B=480+40*seed, more=Math.max(A,B);
    const tensIn=360+10*seed, before=800+10*seed;
    return part('4) –ß–∏—Å–ª–∞ –¥–æ 1000',[
      item(`16. ${h1} —Å–æ—Ç–µ–Ω, ${h2} –¥–µ—Å—è—Ç–∫–æ–≤, ${h3} –µ–¥–∏–Ω–∏—Ü =`, N(num)),
      item(`17. ${num} = ‚Ä¶ + ‚Ä¶ + ‚Ä¶`, N(h1*100), N(h2*10), N(h3)),
      item(`18. –ß—Ç–æ –±–æ–ª—å—à–µ: ${A} –∏–ª–∏ ${B}?`, N(more)),
      item(`19. –°–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤ –≤ ${tensIn}?`, N(Math.floor(tensIn/10))),
      item(`20. –ß–∏—Å–ª–æ –ø–µ—Ä–µ–¥ ${before}:`, N(before-1)) ]);
  }
  function Ops(){
    const addA=345+37*seed, addB=218+29*seed, subA=800+41*seed, subB=275+33*seed, m1=4+seed%7, m2=2+seed%5, m3=3+seed%6, pa=18+2*seed, pb=6+(seed%4+1), pc=7+seed%5, ca=3+seed%4, cb=5+seed%4, cc=2+seed%3;
    const items=[
      item(`21. ${addA} + ${addB} =`, N(addA+addB)),
      item(`22. ${subA} ‚Äì ${subB} =`, N(subA-subB)),
      item(`23. ${m1} + ${m2} √ó ${m3} =`, N(m1+m2*m3)),
      item(`24. (${pa} √∑ ${pb}) + ${pc} =`, N(Math.floor(pa/pb)+pc)),
      item(`25. ${ca} √ó (${pc} + ${cb})${level>=2?` ‚àí ${cc}`:''} =`, N(ca*(pc+cb)-(level>=2?cc:0))),
    ];
    for(let i=0;i<5;i++){ const a=100+seed*7+i*13, b=50+seed*5+i*7, c=25+seed*3+i*5; items.push(item(`25.${i+1}. ${a} ‚àí ${b} + ${c} =`, N(a-b+c))); }
    return part('5) –î–µ–π—Å—Ç–≤–∏—è –∏ —Å–∫–æ–±–∫–∏', items);
  }
  function Four(){
    const th=3+seed, hu=1+seed%5, te=2+seed%9, un=5+seed%7, num=th*1000+hu*100+te*10+un;
    return part('6) –ß–µ—Ç—ã—Ä—ë—Ö–∑–Ω–∞—á–Ω—ã–µ —á–∏—Å–ª–∞',[
      item(`26. ${th} —Ç—ã—Å, ${hu} —Å–æ—Ç–Ω–∏, ${te} –¥–µ—Å—è—Ç–∫–æ–≤, ${un} –µ–¥–∏–Ω–∏—Ü =`, N(num)),
      item(`27. ${num} = ‚Ä¶ + ‚Ä¶ + ‚Ä¶ + ‚Ä¶`, N(th*1000), N(hu*100), N(te*10), N(un)) ]);
  }
  function Fr(){
    const items=[];
    items.push(item(`28. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: ${2+seed}/${3+seed} –∏–ª–∏ ${3+seed}/${4+seed}?`, V([ ((2+seed)/(3+seed) > (3+seed)/(4+seed))?`${2+seed}/${3+seed}`:`${3+seed}/${4+seed}` ])));
    items.push(item(`29. ${2*(3+seed)}/${3+seed} =`, N(2)));
    const imprN=6+seed, imprD=3+seed%4, whole=Math.floor(imprN/imprD), rem=imprN%imprD;
    items.push(item(`30. ${imprN}/${imprD} = ‚Ä¶ —Ü–µ–ª—ã—Ö –∏ ‚Ä¶`, N(whole), V([`${rem}/${imprD}`])));
    const sd=5+seed%5, s1=1+seed%sd, s2=2+(seed*2)%sd;
    items.push(item(`31. ${s1}/${sd} + ${s2}/${sd} =`, V([`${s1+s2}/${sd}`])));
    items.push(item(`32. –ö–∞–∫–∞—è –¥—Ä–æ–±—å –±–æ–ª—å—à–µ: ${4+seed}/${6+seed} –∏–ª–∏ ${5+seed}/${6+seed}?`, V([ ((4+seed)/(6+seed) > (5+seed)/(6+seed))?`${4+seed}/${6+seed}`:`${5+seed}/${6+seed}` ])));
    for(let k=0;k<3;k++){ const d1=4+(seed+k)%6, d2=5+(seed*2+k)%7, n1=1+((seed+k)%d1), n2=1+((seed*3+k)%d2);
      const g=(a,b)=>{while(b){let t=a%b;a=b;b=t;} return a}, l=d1*d2/g(d1,d2), res=n1*(l/d1)+n2*(l/d2);
      items.push(item(`32.${k+1}. ${n1}/${d1} + ${n2}/${d2} =`, V([`${res}/${l}`])));
    }
    return part('7) –î—Ä–æ–±–∏ (daƒºskaitƒºi)', items);
  }
  return {title:`–í–∞—Ä–∏–∞–Ω—Ç ${idx}`, password:pwd, parts:[L(),M(),Vv(),Nn(),Ops(),Four(),Fr()]};
}
variants[4]=makeGeneratedVariant(4,'4444',4,1);
variants[5]=makeGeneratedVariant(5,'5555',5,2);
variants[6]=makeGeneratedVariant(6,'6666',6,2);
variants[7]=makeGeneratedVariant(7,'7777',7,2);
variants[8]=makeGeneratedVariant(8,'8888',8,3);
variants[9]=makeGeneratedVariant(9,'9999',9,3);
variants[10]=makeGeneratedVariant(10,'1010',10,3);

/* ===== –†–µ–Ω–¥–µ—Ä –∫–Ω–æ–ø–æ–∫ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ===== */
window.addEventListener("DOMContentLoaded",()=>{
  const box=document.getElementById("variants-buttons");
  for(let i=1;i<=10;i++){
    const b=document.createElement("button");
    b.className="btn";
    b.textContent="–í–∞—Ä–∏–∞–Ω—Ç "+i;
    b.onclick=()=>openVariant(i);
    box.appendChild(b);
  }
});

/* ===== –¢–∞–π–º–µ—Ä –∏ —Ä–µ–∫–æ—Ä–¥—ã ===== */
let currentVariant=null,timer=0,int=null;
function startTimer(){ stopTimer(); timer=0;
  int=setInterval(()=>{ timer++; document.getElementById("timer-box").textContent="–í—Ä–µ–º—è: "+(Math.floor(timer/60))+":"+(String(timer%60).padStart(2,'0')); },1000); }
function stopTimer(){ if(int){ clearInterval(int); int=null; } }

/* ===== –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (–≤—Ä–µ–º—è + –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ) –≤ localStorage ===== */
function saveBestResult(variant, time, correct){
  const key = "bestResult_variant_" + variant;
  const old = localStorage.getItem(key);
  let save = true;
  if(old){
    const data = JSON.parse(old);
    // –ª—É—á—à–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É, –∞ –ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ ‚Äî –ø–æ –≤—Ä–µ–º–µ–Ω–∏
    if(data.correct > correct) save = false;
    else if(data.correct === correct && data.time <= time) save = false;
  }
  if(save){
    localStorage.setItem(key, JSON.stringify({time, correct}));
    return true;
  }
  return false;
}
function getBestResult(variant){
  const key = "bestResult_variant_" + variant;
  const val = localStorage.getItem(key);
  return val ? JSON.parse(val) : null;
}

/* ===== –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤ ===== */
function updateRecordsTable(){
  const table=document.getElementById("records-table");
  if(!table) return;
  table.innerHTML='<tr><th>–í–∞—Ä–∏–∞–Ω—Ç</th><th>–õ—É—á—à–µ–µ –≤—Ä–µ–º—è</th><th>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</th></tr>';
  for(let i=1;i<=10;i++){
    const best=getBestResult(i);
    let timeStr = best ? `${Math.floor(best.time/60)}:${String(best.time%60).padStart(2,'0')}` : "‚Äî";
    let correctStr = best ? best.correct : "‚Äî";
    let row=document.createElement("tr");
    row.innerHTML=`<td>${i}</td><td>${timeStr}</td><td>${correctStr}</td>`;
    table.appendChild(row);
  }
}

/* ===== –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ ===== */
function openVariant(i){
  currentVariant=i;
  const v=variants[i];
  openScreen('variant');
  const best = getBestResult(i);
  document.getElementById('variant-title').textContent = best
    ? `${v.title} ‚Äî üèÜ –†–µ–∫–æ—Ä–¥: ${best.correct} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö, ${Math.floor(best.time/60)}:${String(best.time%60).padStart(2,'0')}`
    : v.title;

  const qBox=document.getElementById('questions');
  qBox.innerHTML='';
  v.parts.forEach(p=>{
    const h=document.createElement('h2');h.textContent=p.header;qBox.appendChild(h);
    p.items.forEach(it=>{
      const d=document.createElement('div');d.className='q';
      const t=document.createElement('span');t.className='title';t.textContent=it.q;d.appendChild(t);
      d.appendChild(document.createTextNode(' '));
      it.inputs.forEach(inp=>{
        const input=document.createElement('input');
        input.className='answer';input.type=inp.type==='text'?'text':'number';
        input.dataset.ans=(inp.ans||[]).map(s=>s.toLowerCase()).join('|');
        d.appendChild(input);
      });
      qBox.appendChild(d);
    });
  });
  if(document.getElementById('mode-timer').checked){
    document.getElementById('timer-box').classList.remove('hidden'); startTimer();
  } else { document.getElementById('timer-box').classList.add('hidden'); }
}

/* ===== –ü—Ä–æ–≤–µ—Ä–∫–∞ ===== */
function checkAnswers(){
  if(!currentVariant) return;
  const v=variants[currentVariant];
  const pwd=document.getElementById('pwd').value.trim();
  if(pwd!==v.password){document.getElementById('pwdmsg').textContent='–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å';return;}
  document.getElementById('pwdmsg').textContent='–ü–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π';
  let correct=0,total=0;
  document.querySelectorAll('.answer').forEach(inp=>{
    total++;
    const expected=(inp.dataset.ans||'').split('|').map(s=>s.trim().toLowerCase());
    const given=(inp.value||'').toLowerCase().trim();
    if(expected.includes(given) || expected.includes(given.replace(/\s+/g,''))){
      correct++; inp.style.borderColor='green';
    } else { inp.style.borderColor='red'; }
  });
  let res=`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${correct} –∏–∑ ${total}`;
  if(int){
    res+=` (–í—Ä–µ–º—è: ${(Math.floor(timer/60))+":"+(String(timer%60).padStart(2,'0'))})`;
    stopTimer();
    if(saveBestResult(currentVariant, timer, correct)){ res += " üèÜ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!"; }
  }
  document.getElementById('score').textContent=res;
}

/* ===== –°–±—Ä–æ—Å ===== */
function resetVariant(){
  document.getElementById('pwd').value='';
  document.getElementById('score').textContent='';
  document.getElementById('pwdmsg').textContent='';
  document.getElementById('questions').innerHTML='';
  openScreen('tests'); stopTimer(); document.getElementById('timer-box').textContent='–í—Ä–µ–º—è: 0:00';
}
</script>
</body>
</html>  
